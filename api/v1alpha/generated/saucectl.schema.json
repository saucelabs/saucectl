{
  "$schema": "https://json-schema.org/draft-07/schema",
  "$id": "https://saucelabs.com/schema/v1alpha/saucectl.schema.json",
  "title": "SauceCTL Runner Configuration",
  "description": "Configuration file for saucectl.",
  "type": "object",
  "properties": {
    "kind": {
      "enum": [
        "cypress",
        "espresso",
        "playwright",
        "puppeteer",
        "testcafe",
        "xcuitest"
      ]
    }
  },
  "allOf": [
    {
      "if": {
        "properties": {
          "kind": {
            "const": "cypress"
          }
        }
      },
      "then": {
        "$schema": "https://json-schema.org/draft-07/schema",
        "$id": "https://saucelabs.com/schema/v1alpha/cypress.schema.json",
        "title": "saucectl cypress runner configuration",
        "description": "Configuration file for cypress using saucectl",
        "type": "object",
        "allOf": [
          {
            "$schema": "https://json-schema.org/draft-07/schema",
            "$id": "https://saucelabs.com/schema/v1alpha/artifacts.schema.json",
            "title": "saucectl artifacts schema",
            "description": "Subschema for controlling artifacts",
            "type": "object",
            "properties": {
              "artifacts": {
                "description": "Manage test output, such as logs, videos, and screenshots.",
                "type": "object",
                "properties": {
                  "download": {
                    "description": "Settings related to downloading test artifacts from Sauce Labs.",
                    "type": "object",
                    "properties": {
                      "match": {
                        "description": "Specifies which artifacts to download based on whether they match the file pattern provided. Supports the wildcard character '*'.",
                        "type": "array"
                      },
                      "when": {
                        "description": "Specifies when and under what circumstances to download artifacts.",
                        "enum": [
                          "always",
                          "fail",
                          "never",
                          "pass"
                        ]
                      },
                      "directory": {
                        "description": "Specifies the path to the folder in which to download artifacts. A separate subdirectory is generated in this location for each suite.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "when",
                      "match",
                      "directory"
                    ],
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": true
          },
          {
            "$schema": "https://json-schema.org/draft-07/schema",
            "$id": "https://saucelabs.com/schema/v1alpha/docker.schema.json",
            "title": "saucectl docker specific schema",
            "description": "Subschema for docker specific settings",
            "type": "object",
            "properties": {
              "docker": {
                "description": "Properties specific to docker.",
                "type": "object",
                "properties": {
                  "fileTransfer": {
                    "description": "Control how files are made available to the docker image.",
                    "enum": [
                      "copy",
                      "mount"
                    ]
                  },
                  "image": {
                    "description": "Override which docker image to use (in case you have a custom image).",
                    "type": "string"
                  }
                }
              }
            },
            "additionalProperties": true
          },
          {
            "$schema": "https://json-schema.org/draft-07/schema",
            "$id": "https://saucelabs.com/schema/v1alpha/npm.schema.json",
            "title": "saucectl npm specific schema",
            "description": "Subschema for npm specific settings",
            "type": "object",
            "properties": {
              "npm": {
                "description": "Settings specific to npm.",
                "type": "object",
                "properties": {
                  "packages": {
                    "description": "Specifies any npm packages that are required to run tests.",
                    "type": "object"
                  },
                  "registry": {
                    "description": "Override the default and official NPM registry URL with a custom one.",
                    "type": "string"
                  },
                  "strictSSL": {
                    "description": "Whether or not to do SSL key validation when making requests to the registry via https.",
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": true
          },
          {
            "$schema": "https://json-schema.org/draft-07/schema",
            "$id": "https://saucelabs.com/schema/v1alpha/sauce.schema.json",
            "title": "saucectl sauce specific schema",
            "description": "Subschema for sauce specific settings",
            "type": "object",
            "properties": {
              "sauce": {
                "description": "All settings related to how tests are run and identified in the Sauce Labs platform.",
                "type": "object",
                "properties": {
                  "region": {
                    "description": "Which Sauce Labs data center to target.",
                    "enum": [
                      "us-west-1",
                      "eu-central-1"
                    ]
                  },
                  "concurrency": {
                    "description": "Sets the maximum number of suites to execute at the same time. Excess suites are queued and run in order as each suite completes.",
                    "type": "integer",
                    "minimum": 1
                  },
                  "metadata": {
                    "description": "The set of properties that allows you to provide additional information about your project that helps you distinguish it in the various environments in which it is used and reviewed.",
                    "type": "object",
                    "properties": {
                      "tags": {
                        "description": "Tag your jobs so you can find them easier in Sauce Labs.",
                        "type": "array"
                      },
                      "build": {
                        "description": "Sauce Labs can aggregate all jobs under one view based on their association with a build.",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": true
          }
        ],
        "properties": {
          "apiVersion": {
            "const": "v1alpha"
          },
          "kind": {
            "const": "cypress"
          },
          "defaults": {
            "properties": {
              "mode": {
                "$ref": "../subschema/common.schema.json#/definitions/mode"
              },
              "timeout": {
                "$ref": "../subschema/common.schema.json#/definitions/timeout"
              }
            },
            "description": "Settings that are applied onto every suite by default, if no value is set on a suite explicitly.",
            "type": "object"
          },
          "rootDir": {
            "description": "TBD",
            "type": "string"
          },
          "cypress": {
            "description": "Contains details specific to the Cypress project.",
            "type": "object",
            "properties": {
              "configFile": {
                "description": "TBD",
                "type": "string"
              },
              "key": {
                "description": "TBD",
                "type": "string"
              },
              "record": {
                "description": "TBD",
                "type": "boolean"
              },
              "version": {
                "description": "TBD",
                "type": "string"
              }
            },
            "required": [
              "configFile",
              "version"
            ],
            "additionalProperties": false
          },
          "suites": {
            "description": "The set of properties providing details about the test suites to run.",
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "The name of the test suite, which will be reflected in the test results in Sauce Labs.",
                  "type": "string"
                },
                "browser": {
                  "description": "TBD",
                  "enum": [
                    "chrome",
                    "firefox",
                    "microsoftedge"
                  ]
                },
                "browserVersion": {
                  "description": "TBD",
                  "type": "string"
                },
                "platformName": {
                  "description": "TBD",
                  "enum": [
                    "Windows 10"
                  ]
                },
                "config": {
                  "description": "TBD",
                  "type": "object",
                  "properties": {
                    "testFiles": {
                      "description": "TBD",
                      "type": "array"
                    },
                    "env": {
                      "$ref": "#/allOf/2/then/properties/suites/items/properties/env"
                    }
                  }
                },
                "mode": {
                  "description": "Instructs saucectl run tests remotely through Sauce Labs (sauce) or locally on docker.",
                  "enum": [
                    "docker",
                    "sauce"
                  ]
                },
                "timeout": {
                  "$ref": "#/allOf/3/then/properties/suites/items/timeout"
                }
              },
              "required": [
                "name",
                "browser"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "apiVersion",
          "kind",
          "cypress",
          "suites"
        ],
        "additionalProperties": true
      }
    },
    {
      "if": {
        "properties": {
          "kind": {
            "const": "espresso"
          }
        }
      },
      "then": {
        "$schema": "https://json-schema.org/draft-07/schema",
        "$id": "https://saucelabs.com/schema/v1alpha/espresso.schema.json",
        "title": "saucectl espresso runner configuration",
        "description": "Configuration file for espresso using saucectl",
        "type": "object",
        "allOf": [
          {
            "$ref": "#/allOf/0/then/allOf/3"
          },
          {
            "$ref": "#/allOf/0/then/allOf/0"
          }
        ],
        "properties": {
          "apiVersion": {
            "const": "v1alpha"
          },
          "kind": {
            "const": "espresso"
          },
          "defaults": {
            "$ref": "#/allOf/0/then/properties/defaults",
            "properties": {
              "timeout": {
                "$ref": "../subschema/common.schema.json#/definitions/timeout"
              }
            }
          },
          "espresso": {
            "description": "Contains details specific to the Espresso project.",
            "type": "object",
            "properties": {
              "app": {
                "description": "Path to the application. Supports environment variables as values.",
                "type": "string"
              },
              "testApp": {
                "description": "Path to the test application. Supports environment variables as values.",
                "type": "string"
              },
              "otherApps": {
                "description": "A list of applications to be installed alongside the main app. Supports environment variables as values.",
                "type": "array"
              }
            },
            "required": [
              "app",
              "testApp"
            ],
            "additionalProperties": false
          },
          "suites": {
            "description": "The set of properties providing details about the test suites to run.",
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "The name of the test suite, which will be reflected in the test results in Sauce Labs.",
                  "type": "string"
                },
                "testOptions": {
                  "description": "Allows you to control various details on how tests are executed.",
                  "type": "object",
                  "properties": {
                    "class": {
                      "description": "Only run the specified classes.",
                      "type": "array"
                    },
                    "notClass": {
                      "description": "Run all classes except those specified here.",
                      "type": "array"
                    },
                    "package": {
                      "description": "Only run tests in the specified package.",
                      "type": "string"
                    },
                    "size": {
                      "description": "Run only tests that are annotated with the matching size value.",
                      "enum": [
                        "small",
                        "medium",
                        "large"
                      ]
                    },
                    "annotation": {
                      "description": "Only run tests with this annotation.",
                      "type": "string"
                    },
                    "numShards": {
                      "description": "When sharding is configured, saucectl automatically creates the sharded jobs for each of the devices defined for the suite based on the number of shards you specify. For example, for a suite testing a single emulator version that specifies 2 shards, saucectl clones the suite and runs one shard index on the first suite, and the other shard index on the identical clone suite.",
                      "type": "integer",
                      "minimum": 0
                    },
                    "clearPackageData": {
                      "description": "Removes all shared states from the testing device's CPU and memory at the completion of each test.",
                      "type": "boolean"
                    },
                    "useTestOrchestrator": {
                      "description": "Run each of your tests in its own Instrumentation instance to remove most of the app's shared state from the device CPU and memory between tests. Use this setting in conjunction with clearPackageData: true to completely remove all shared state.",
                      "type": "boolean"
                    }
                  },
                  "additionalProperties": false
                },
                "emulators": {
                  "description": "Defines details for running this suite on virtual devices using an emulator.",
                  "type": "array",
                  "items": {
                    "properties": {
                      "name": {
                        "description": "The name of the emulator. To ensure name accuracy, check the list of supported virtual devices (https://app.saucelabs.com/live/web-testing/virtual).",
                        "type": "string"
                      },
                      "orientation": {
                        "description": "The screen orientation to use.",
                        "enum": [
                          "landscape",
                          "portrait"
                        ]
                      },
                      "platformVersions": {
                        "description": "The set of one or more versions of the device platform on which to run the test suite.",
                        "type": "array",
                        "minItems": 1
                      }
                    },
                    "required": [
                      "name",
                      "platformVersions"
                    ],
                    "additionalProperties": false
                  }
                },
                "devices": {
                  "description": "Define details for running this suite on real devices.",
                  "type": "array",
                  "items": {
                    "properties": {
                      "id": {
                        "description": "Request a specific device for this test suite by its ID. You can look up device IDs in the Sauce Labs app or using our Devices API (https://docs.saucelabs.com/dev/api/rdc#get-devices).",
                        "type": "string"
                      },
                      "name": {
                        "description": "Match the device name in full or partially (regex), which may provide a larger pool of available devices of the type you want.",
                        "type": "string"
                      },
                      "platformVersion": {
                        "description": "The version of the Android operating system.",
                        "type": "string"
                      },
                      "options": {
                        "description": "Further specify desired device attributes within the pool of devices that match the name and version criteria.",
                        "type": "object",
                        "properties": {
                          "carrierConnectivity": {
                            "description": "Limit the device selection to those that are connected to a cellular network.",
                            "type": "boolean"
                          },
                          "deviceType": {
                            "description": "Limit the device selection to a specific type of device.",
                            "enum": [
                              "ANY",
                              "PHONE",
                              "TABLET"
                            ]
                          },
                          "private": {
                            "description": "Limit the device selection to only match from your organization's private pool.",
                            "type": "boolean"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "oneOf": [
                      {
                        "required": [
                          "id"
                        ]
                      },
                      {
                        "required": [
                          "name"
                        ]
                      }
                    ],
                    "additionalProperties": false
                  }
                },
                "timeout": {
                  "$ref": "#/allOf/3/then/properties/suites/items/timeout"
                }
              },
              "anyOf": [
                {
                  "required": [
                    "emulators"
                  ]
                },
                {
                  "required": [
                    "devices"
                  ]
                }
              ],
              "required": [
                "name"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "apiVersion",
          "kind",
          "espresso",
          "suites"
        ],
        "additionalProperties": true
      }
    },
    {
      "if": {
        "properties": {
          "kind": {
            "const": "playwright"
          }
        }
      },
      "then": {
        "$schema": "https://json-schema.org/draft-07/schema",
        "$id": "https://saucelabs.com/schema/v1alpha/playwright.schema.json",
        "title": "saucectl playwright runner configuration",
        "description": "Configuration file for playwright using saucectl",
        "type": "object",
        "allOf": [
          {
            "$ref": "#/allOf/0/then/allOf/0"
          },
          {
            "$ref": "#/allOf/0/then/allOf/1"
          },
          {
            "$ref": "#/allOf/0/then/allOf/2"
          },
          {
            "$ref": "#/allOf/0/then/allOf/3"
          }
        ],
        "properties": {
          "apiVersion": {
            "const": "v1alpha"
          },
          "kind": {
            "const": "playwright"
          },
          "defaults": {
            "$ref": "#/allOf/0/then/properties/defaults",
            "properties": {
              "mode": {
                "$ref": "../subschema/common.schema.json#/definitions/mode"
              },
              "timeout": {
                "$ref": "../subschema/common.schema.json#/definitions/timeout"
              }
            }
          },
          "rootDir": {
            "description": "TBD",
            "type": "string"
          },
          "playwright": {
            "description": "Contains details specific to the Playwright project.",
            "type": "object",
            "properties": {
              "version": {
                "description": "TBD",
                "type": "string"
              }
            },
            "required": [
              "version"
            ],
            "additionalProperties": false
          },
          "suites": {
            "description": "The set of properties providing details about the test suites to run.",
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "The name of the test suite, which will be reflected in the test results in Sauce Labs.",
                  "type": "string"
                },
                "mode": {
                  "$ref": "#/allOf/0/then/properties/suites/items/properties/mode"
                },
                "playwrightVersion": {
                  "description": "TBD",
                  "type": "string"
                },
                "testMatch": {
                  "description": "TBD",
                  "type": "array"
                },
                "platformName": {
                  "description": "TBD",
                  "enum": [
                    "Windows 10"
                  ]
                },
                "params": {
                  "description": "TBD",
                  "type": "object",
                  "properties": {
                    "browserName": {
                      "description": "TBD",
                      "enum": [
                        "chromium",
                        "firefox",
                        "webkit"
                      ]
                    },
                    "headed": {
                      "description": "TBD",
                      "type": "boolean"
                    },
                    "globalTimeout": {
                      "description": "TBD",
                      "type": "integer"
                    },
                    "timeout": {
                      "description": "Changes the timeout for the test (milliseconds).",
                      "type": "integer"
                    },
                    "grep": {
                      "description": "TBD",
                      "type": "string"
                    },
                    "repeatEach": {
                      "description": "TBD",
                      "type": "integer"
                    },
                    "retries": {
                      "description": "TBD",
                      "type": "integer"
                    },
                    "maxFailures": {
                      "description": "TBD",
                      "type": "integer"
                    }
                  }
                },
                "screenResolution": {
                  "description": "TBD",
                  "type": "string"
                },
                "env": {
                  "description": "Set one or more environment variables. Values can be environment variables themselves.",
                  "type": "object"
                },
                "numShards": {
                  "description": "TBD",
                  "type": "integer",
                  "minimum": 0
                },
                "timeout": {
                  "$ref": "#/allOf/3/then/properties/suites/items/timeout"
                }
              },
              "required": [
                "name"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "apiVersion",
          "kind",
          "playwright",
          "suites"
        ],
        "additionalProperties": true
      }
    },
    {
      "if": {
        "properties": {
          "kind": {
            "const": "puppeteer"
          }
        }
      },
      "then": {
        "$schema": "https://json-schema.org/draft-07/schema",
        "$id": "https://saucelabs.com/schema/v1alpha/puppeteer.schema.json",
        "title": "saucectl puppeteer runner configuration",
        "description": "Configuration file for puppeteer using saucectl",
        "type": "object",
        "allOf": [
          {
            "$ref": "#/allOf/0/then/allOf/0"
          },
          {
            "$ref": "#/allOf/0/then/allOf/1"
          },
          {
            "$ref": "#/allOf/0/then/allOf/2"
          },
          {
            "$ref": "#/allOf/0/then/allOf/3"
          }
        ],
        "properties": {
          "apiVersion": {
            "const": "v1alpha"
          },
          "kind": {
            "const": "puppeteer"
          },
          "defaults": {
            "$ref": "#/allOf/0/then/properties/defaults",
            "properties": {
              "timeout": {
                "$ref": "../subschema/common.schema.json#/definitions/timeout"
              }
            }
          },
          "rootDir": {
            "description": "TBD",
            "type": "string"
          },
          "puppeteer": {
            "description": "Contains details specific to the Puppeteer project.",
            "type": "object",
            "properties": {
              "version": {
                "description": "TBD",
                "type": "string"
              }
            },
            "required": [
              "version"
            ],
            "additionalProperties": false
          },
          "suites": {
            "description": "The set of properties providing details about the test suites to run.",
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "The name of the test suite, which will be reflected in the test results in Sauce Labs.",
                  "type": "string"
                },
                "browser": {
                  "description": "TBD",
                  "enum": [
                    "chrome",
                    "firefox"
                  ]
                },
                "testMatch": {
                  "description": "TBD",
                  "type": "array"
                },
                "env": {
                  "$ref": "#/allOf/2/then/properties/suites/items/properties/env"
                },
                "browserArgs": {
                  "description": "TBD",
                  "type": "array"
                }
              },
              "timeout": {
                "description": "Instructs how long (in ms, s, m, or h) saucectl should wait for a suite to complete.",
                "type": "string",
                "pattern": "^(?:\\d+h)?(?:\\d+m)?(?:\\d+s)?(?:\\d+ms)?$",
                "examples": [
                  "15m"
                ]
              },
              "required": [
                "name",
                "browser"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "apiVersion",
          "kind",
          "puppeteer",
          "suites"
        ],
        "additionalProperties": true
      }
    },
    {
      "if": {
        "properties": {
          "kind": {
            "const": "testcafe"
          }
        }
      },
      "then": {
        "$schema": "https://json-schema.org/draft-07/schema",
        "$id": "https://saucelabs.com/schema/v1alpha/testcafe.schema.json",
        "title": "saucectl testcafe runner configuration",
        "description": "Configuration file for testcafe using saucectl",
        "type": "object",
        "allOf": [
          {
            "$ref": "#/allOf/0/then/allOf/0"
          },
          {
            "$ref": "#/allOf/0/then/allOf/1"
          },
          {
            "$ref": "#/allOf/0/then/allOf/2"
          },
          {
            "$ref": "#/allOf/0/then/allOf/3"
          }
        ],
        "properties": {
          "apiVersion": {
            "const": "v1alpha"
          },
          "kind": {
            "const": "testcafe"
          },
          "defaults": {
            "$ref": "#/allOf/0/then/properties/defaults",
            "properties": {
              "mode": {
                "$ref": "../subschema/common.schema.json#/definitions/mode"
              },
              "timeout": {
                "$ref": "../subschema/common.schema.json#/definitions/timeout"
              }
            }
          },
          "rootDir": {
            "description": "TBD",
            "type": "string"
          },
          "testcafe": {
            "description": "Contains details specific to the TestCafe project.",
            "type": "object",
            "properties": {
              "version": {
                "description": "TBD",
                "type": "string"
              }
            },
            "required": [
              "version"
            ],
            "additionalProperties": false
          },
          "suites": {
            "description": "The set of properties providing details about the test suites to run.",
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "The name of the test suite, which will be reflected in the test results in Sauce Labs.",
                  "type": "string"
                },
                "browserName": {
                  "description": "TBD",
                  "enum": [
                    "chrome",
                    "firefox",
                    "microsoftedge",
                    "safari"
                  ]
                },
                "browserVersion": {
                  "description": "TBD",
                  "type": "string"
                },
                "platformName": {
                  "description": "TBD",
                  "enum": [
                    "macOS 11.00",
                    "Windows 10"
                  ]
                },
                "assertionTimeout": {
                  "description": "TBD",
                  "type": "integer",
                  "minimum": 0
                },
                "clientScripts": {
                  "description": "TBD",
                  "type": "array"
                },
                "env": {
                  "$ref": "#/allOf/2/then/properties/suites/items/properties/env"
                },
                "mode": {
                  "$ref": "#/allOf/0/then/properties/suites/items/properties/mode"
                },
                "disablePageCaching": {
                  "description": "TBD",
                  "type": "boolean"
                },
                "disableScreenshots": {
                  "description": "TBD",
                  "type": "boolean"
                },
                "disableVideo": {
                  "description": "TBD",
                  "type": "boolean"
                },
                "pageLoadTimeout": {
                  "description": "TBD",
                  "type": "integer"
                },
                "quarantineMode": {
                  "description": "TBD",
                  "type": "boolean"
                },
                "screenResolution": {
                  "description": "TBD",
                  "type": "string"
                },
                "screenshots": {
                  "description": "TBD",
                  "type": "object",
                  "properties": {
                    "takeOnFails": {
                      "description": "TBD",
                      "type": "boolean"
                    },
                    "fullPage": {
                      "description": "TBD",
                      "type": "boolean"
                    }
                  },
                  "additionalProperties": false
                },
                "selectorTimeout": {
                  "description": "TBD",
                  "type": "integer",
                  "minimum": 0
                },
                "simulators": {
                  "description": "TBD",
                  "type": "array",
                  "items": {
                    "properties": {
                      "name": {
                        "description": "TBD",
                        "type": "string"
                      },
                      "orientation": {
                        "description": "TBD",
                        "type": "string"
                      },
                      "platformName": {
                        "description": "TBD",
                        "type": "string"
                      },
                      "platformVersions": {
                        "description": "TBD",
                        "type": "array"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "skipJsErrors": {
                  "description": "TBD",
                  "type": "boolean"
                },
                "skipUncaughtErrors": {
                  "description": "TBD",
                  "type": "boolean"
                },
                "speed": {
                  "description": "TBD",
                  "type": "number"
                },
                "src": {
                  "description": "TBD",
                  "type": "array"
                },
                "stopOnFirstFail": {
                  "description": "TBD",
                  "type": "boolean"
                },
                "timeout": {
                  "$ref": "#/allOf/3/then/properties/suites/items/timeout"
                }
              },
              "required": [
                "name"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "apiVersion",
          "kind",
          "testcafe",
          "suites"
        ],
        "additionalProperties": true
      }
    },
    {
      "if": {
        "properties": {
          "kind": {
            "const": "xcuitest"
          }
        }
      },
      "then": {
        "$schema": "https://json-schema.org/draft-07/schema",
        "$id": "https://saucelabs.com/schema/v1alpha/xcuitest.schema.json",
        "title": "saucectl xcuitest runner configuration",
        "description": "Configuration file for xcuitest using saucectl",
        "type": "object",
        "allOf": [
          {
            "$ref": "#/allOf/0/then/allOf/3"
          },
          {
            "$ref": "#/allOf/0/then/allOf/0"
          }
        ],
        "properties": {
          "apiVersion": {
            "const": "v1alpha"
          },
          "kind": {
            "const": "xcuitest"
          },
          "defaults": {
            "$ref": "#/allOf/0/then/properties/defaults",
            "properties": {
              "timeout": {
                "$ref": "../subschema/common.schema.json#/definitions/timeout"
              }
            }
          },
          "xcuitest": {
            "description": "Contains details specific to the XCUITest project.",
            "type": "object",
            "properties": {
              "app": {
                "description": "Path to the application. Supports environment variables as values.",
                "type": "string"
              },
              "testApp": {
                "description": "Path to the test application. Supports environment variables as values.",
                "type": "string"
              },
              "otherApps": {
                "description": "A list of applications to be installed alongside the main app. Supports environment variables as values.",
                "type": "array"
              }
            },
            "required": [
              "app",
              "testApp"
            ],
            "additionalProperties": false
          },
          "suites": {
            "description": "The set of properties providing details about the test suites to run.",
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "The name of the test suite, which will be reflected in the test results in Sauce Labs.",
                  "type": "string"
                },
                "testOptions": {
                  "description": "Allows you to control various details on how tests are executed.",
                  "type": "object",
                  "properties": {
                    "class": {
                      "description": "Only run the specified classes.",
                      "type": "array"
                    }
                  },
                  "additionalProperties": false
                },
                "devices": {
                  "description": "Define details for running this suite on real devices.",
                  "type": "array",
                  "items": {
                    "properties": {
                      "id": {
                        "description": "Request a specific device for this test suite by its ID. You can look up device IDs in the Sauce Labs app or using our Devices API (https://docs.saucelabs.com/dev/api/rdc#get-devices).",
                        "type": "string"
                      },
                      "name": {
                        "description": "Match the device name in full or partially (regex), which may provide a larger pool of available devices of the type you want.",
                        "type": "string"
                      },
                      "platformVersion": {
                        "description": "The version of the iOS operating system.",
                        "type": "string"
                      },
                      "options": {
                        "description": "Further specify desired device attributes within the pool of devices that match the name and version criteria.",
                        "type": "object",
                        "properties": {
                          "carrierConnectivity": {
                            "description": "Limit the device selection to those that are connected to a cellular network.",
                            "type": "boolean"
                          },
                          "deviceType": {
                            "description": "Limit the device selection to a specific type of device.",
                            "enum": [
                              "ANY",
                              "PHONE",
                              "TABLET"
                            ]
                          },
                          "private": {
                            "description": "Limit the device selection to only match from your organization's private pool.",
                            "type": "boolean"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "anyOf": [
                      {
                        "required": [
                          "id"
                        ]
                      },
                      {
                        "required": [
                          "name"
                        ]
                      }
                    ],
                    "additionalProperties": false
                  }
                },
                "timeout": {
                  "$ref": "#/allOf/3/then/properties/suites/items/timeout"
                }
              },
              "anyOf": [
                {
                  "required": [
                    "emulators"
                  ]
                },
                {
                  "required": [
                    "devices"
                  ]
                }
              ],
              "required": [
                "name"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "apiVersion",
          "kind",
          "xcuitest",
          "suites"
        ],
        "additionalProperties": true
      }
    }
  ]
}